import{_ as Y}from"./D9pBdgcG.js";import{_ as K,a as Z,b as h,c as ee,d as le,e as te}from"./C_W1wP7l.js";import{_ as ae}from"./Cq9Wa7h3.js";import{_ as ne,a as oe,b as se,c as de,d as ie,e as ue,f as me}from"./t-GhsHcG.js";import{_ as re,a as pe,b as fe,c as _e}from"./tbZmO7Lm.js";import{_ as ge,a as ve}from"./BNGOV1T2.js";import{_ as ce,a as ye,b as be,c as Ve,d as $e}from"./DB4MGXwF.js";import{e as ke,G as we,r as A,f as xe,n as C,j as g,o as X,c as L,b as l,w as t,d as n,a as o,t as j,u as s,i as Be,F as Te,g as ze,h as De}from"./DY5YPz6z.js";import{u as Se}from"./CNrGq2Rz.js";import{u as Ue}from"./DhZM79Uq.js";import{a as S}from"./DLL7LeIM.js";import{R as Ae}from"./CfHXzoJp.js";import"./CoYbDtYK.js";import"./BidR5HMv.js";import"./CBgy_JFS.js";const Ce={class:"grid gap-3 p-5 md:p-10"},Xe={class:"flex justify-between"},je={class:"flex gap-2"},Ee={class:"flex flex-col md:flex-row gap-3"},Ie={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},Le={class:"relative"},Re={class:"absolute flex items-center justify-center w-8 h-8 top-0 right-0"},Fe={class:"flex flex-col gap-3"},qe=["src"],He={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Me={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Ne={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Oe={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},dl=ke({__name:"[uuid]",setup(Pe){Se({title:"Xodimni tahrirlash"});const E=we(),{user:b}=Ue(),a=A({address:"",birth_date:"",city:"",country:"",department:{active:!0,id:"0",name:"",employees:0},full_name:"",gender:"male",handle:"",image:"",phone:"",position:"",town:"",uuid:"",working_time:""}),I=A([]),U=A(!1),R=async()=>{var i;try{let e=await $fetch(S("employees/departments"),{headers:{Authorization:`Token ${(i=b.value)==null?void 0:i.token}`}});e.status==="success"?I.value=e.data:g({title:"Xatolik",description:"Adminga murojat qiling"})}catch{g({title:"Xatolik",description:"Adminga murojat qiling"})}},F=async()=>{var i;try{let e=await $fetch(S(`employees/employee/${E.params.uuid}`),{headers:{Authorization:`Token ${(i=b.value)==null?void 0:i.token}`}});e.status==="success"?a.value=e.data:(C({name:"admin-employees"}),g({title:"Xatolik",description:"Xodim topilmadi!!!"}))}catch{C({name:"admin-employees"})}},q=async()=>{var m;let i=new FormData,e=document.getElementById("image");i.append("address",a.value.address),i.append("birth_data",a.value.birth_date),i.append("city",a.value.city),i.append("country",a.value.country),i.append("department",a.value.department.id),i.append("full_name",a.value.full_name),i.append("gender",a.value.gender),i.append("handle",a.value.handle),i.append("phone",a.value.phone),i.append("position",a.value.position),i.append("town",a.value.town),i.append("working_time",a.value.working_time),i.append("image",e.src);try{(await $fetch(S(`employees/employee/${E.params.uuid}/edit`),{method:"POST",body:i,headers:{Authorization:`Token ${(m=b.value)==null?void 0:m.token}`}})).status==="success"&&g({title:"Ajoyib",description:"Xodim tahrirlandi"})}catch{}},H=async()=>{var i;try{(await $fetch(S(`employees/employee/${a.value.uuid}/delete`),{method:"POST",headers:{Authorization:`Token ${(i=b.value)==null?void 0:i.token}`}})).status==="success"?(C({name:"admin-employees"}),g({title:"Ajoyib",description:"Xodim ishdan bo'shatildi"})):g({title:"Xatolik",description:"Adminga murojat qiling"})}catch{}};return xe(()=>{F(),R();const i=document.getElementById("image");document.addEventListener("paste",e=>{var f;const m=(f=e.clipboardData)==null?void 0:f.items;if(m){for(const _ of m)if(_.type.startsWith("image")){const v=_.getAsFile(),V=new FileReader;V.onload=function(c){c.target&&c.target.result&&(i.src=c.target.result.toString())},v&&V.readAsDataURL(v)}}})}),(i,e)=>{const m=Y,f=h,_=Z,v=ee,V=le,c=K,M=te,y=ae,N=ne,O=de,P=se,J=ue,G=ie,Q=oe,W=me,$=pe,k=re,u=ge,r=ve,w=be,x=ye,p=$e,B=Ve,T=ce,z=fe,D=_e;return X(),L("div",Ce,[l(M,null,{default:t(()=>[l(c,null,{default:t(()=>[l(_,null,{default:t(()=>[l(f,null,{default:t(()=>[l(m,{to:{name:"admin"}},{default:t(()=>e[13]||(e[13]=[n("Bosh sahifa")])),_:1})]),_:1})]),_:1}),l(v),l(_,null,{default:t(()=>[l(f,null,{default:t(()=>[l(m,{to:{name:"admin-employees"}},{default:t(()=>e[14]||(e[14]=[n("Xodimlar")])),_:1})]),_:1})]),_:1}),l(v),l(_,null,{default:t(()=>[l(V,null,{default:t(()=>e[15]||(e[15]=[n(" Xodimni tahrirlash ")])),_:1})]),_:1})]),_:1})]),_:1}),o("div",Xe,[e[22]||(e[22]=o("div",null,null,-1)),o("div",je,[l(y,{size:"sm",variant:"destructive"},{default:t(()=>e[16]||(e[16]=[n("Ta'til berish")])),_:1}),l(W,{open:s(U),"onUpdate:open":e[0]||(e[0]=d=>Be(U)?U.value=d:null)},{default:t(()=>[l(N,null,{default:t(()=>[l(y,{size:"sm",variant:"destructive"},{default:t(()=>e[17]||(e[17]=[n("Ishdan bo'shatish")])),_:1})]),_:1}),l(Q,null,{default:t(()=>[l(P,null,{default:t(()=>[l(O,null,{default:t(()=>e[18]||(e[18]=[n(" Xodimni ishdan bo'shatish ")])),_:1})]),_:1}),n(" "+j(s(a).full_name)+" ni ishdan bo'shatishni bo'shatasizmi? ",1),l(G,null,{default:t(()=>[l(J,null,{default:t(()=>[l(y,null,{default:t(()=>e[19]||(e[19]=[n("Yoq")])),_:1})]),_:1}),l(y,{onClick:H,variant:"destructive"},{default:t(()=>e[20]||(e[20]=[n("Ha")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),l(y,{size:"sm",onClick:q},{default:t(()=>e[21]||(e[21]=[n("Saqlash")])),_:1})])]),o("div",Ee,[l(D,{class:"bg-muted/10 flex-1"},{default:t(()=>[l(k,null,{default:t(()=>[l($,null,{default:t(()=>e[23]||(e[23]=[n("Ma'lumotlar")])),_:1})]),_:1}),l(z,{class:"space-y-5"},{default:t(()=>[o("div",null,[l(u,null,{default:t(()=>e[24]||(e[24]=[n("Familiya Ism Sharifi "),o("span",{class:"text-red-500"},"*",-1)])),_:1}),l(r,{modelValue:s(a).full_name,"onUpdate:modelValue":e[1]||(e[1]=d=>s(a).full_name=d)},null,8,["modelValue"])]),o("div",Ie,[o("div",null,[l(u,null,{default:t(()=>e[25]||(e[25]=[n("Jinsi "),o("span",{class:"text-red-500"},"*",-1)])),_:1}),l(T,{"default-value":"male",modelValue:s(a).gender,"onUpdate:modelValue":e[2]||(e[2]=d=>s(a).gender=d)},{default:t(()=>[l(x,null,{default:t(()=>[l(w,{placeholder:"Jinsini tanlang"})]),_:1}),l(B,null,{default:t(()=>[l(p,{value:"male"},{default:t(()=>e[26]||(e[26]=[n("Erkak")])),_:1}),l(p,{value:"female"},{default:t(()=>e[27]||(e[27]=[n("Ayol")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),o("div",null,[l(u,null,{default:t(()=>e[28]||(e[28]=[n("Tug'ilgan sanasi "),o("span",{class:"text-red-500"},"*",-1)])),_:1}),l(r,{modelValue:s(a).birth_date,"onUpdate:modelValue":e[3]||(e[3]=d=>s(a).birth_date=d)},null,8,["modelValue"])]),o("div",null,[l(u,null,{default:t(()=>e[29]||(e[29]=[n("ID "),o("span",{class:"text-red-500"},"*",-1)])),_:1}),o("div",Le,[l(r,{modelValue:s(a).handle,"onUpdate:modelValue":e[4]||(e[4]=d=>s(a).handle=d)},null,8,["modelValue"]),o("div",Re,[l(s(Ae),{size:25,class:"hover:bg-accent rounded p-1"})])])])]),o("div",null,[l(u,null,{default:t(()=>e[30]||(e[30]=[n("Shtat "),o("span",{class:"text-red-500"},"*",-1)])),_:1}),n(" "+j(s(a).working_time)+" ",1),l(T,{"default-value":"male",modelValue:s(a).working_time,"onUpdate:modelValue":e[5]||(e[5]=d=>s(a).working_time=d)},{default:t(()=>[l(x,null,{default:t(()=>[l(w,{placeholder:"Shtatni tanlang"})]),_:1}),l(B,null,{default:t(()=>[l(p,{value:"1"},{default:t(()=>e[31]||(e[31]=[n("1 shtat")])),_:1}),l(p,{value:"0.5"},{default:t(()=>e[32]||(e[32]=[n("0.5 shtat")])),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1}),l(D,{class:"bg-muted/10 w-64"},{default:t(()=>[l(k,null,{default:t(()=>[l($,null,{default:t(()=>e[33]||(e[33]=[n("Rasmi "),o("span",{class:"text-red-500"},"*",-1)])),_:1})]),_:1}),l(z,null,{default:t(()=>[o("div",Fe,[o("img",{id:"image",class:"w-56 h-56 rounded",src:i.$config.public.base+s(a).image,alt:""},null,8,qe)])]),_:1})]),_:1})]),l(D,{class:"bg-muted/10"},{default:t(()=>[l(k,null,{default:t(()=>[l($,null,{default:t(()=>e[34]||(e[34]=[n("Qo'shimcha ma'lumotlar")])),_:1})]),_:1}),l(z,null,{default:t(()=>[o("div",He,[o("div",null,[l(u,null,{default:t(()=>e[35]||(e[35]=[n("Bo'lim "),o("span",{class:"text-red-500"},"*",-1)])),_:1}),l(T,{modelValue:s(a).department.id,"onUpdate:modelValue":e[6]||(e[6]=d=>s(a).department.id=d)},{default:t(()=>[l(x,null,{default:t(()=>[l(w,{placeholder:"Bo'limni tanlang"})]),_:1}),l(B,null,{default:t(()=>[(X(!0),L(Te,null,ze(s(I),d=>(X(),De(p,{value:d.id},{default:t(()=>[n(j(d.name),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1},8,["modelValue"])]),o("div",null,[l(u,null,{default:t(()=>e[36]||(e[36]=[n("Lavozimi "),o("span",{class:"text-red-500"},"*",-1)])),_:1}),l(r,{modelValue:s(a).position,"onUpdate:modelValue":e[7]||(e[7]=d=>s(a).position=d)},null,8,["modelValue"])])]),o("div",Me,[o("div",null,[l(u,null,{default:t(()=>e[37]||(e[37]=[n("Telefon raqami")])),_:1}),l(r,{modelValue:s(a).phone,"onUpdate:modelValue":e[8]||(e[8]=d=>s(a).phone=d)},null,8,["modelValue"])])])]),_:1})]),_:1}),l(D,{class:"bg-muted/10"},{default:t(()=>[l(k,null,{default:t(()=>[l($,null,{default:t(()=>e[38]||(e[38]=[n("Manzili")])),_:1})]),_:1}),l(z,null,{default:t(()=>[o("div",Ne,[o("div",null,[l(u,null,{default:t(()=>e[39]||(e[39]=[n("Davlat")])),_:1}),l(T,{"default-value":"o'zbekiston",modelValue:s(a).country,"onUpdate:modelValue":e[9]||(e[9]=d=>s(a).country=d)},{default:t(()=>[l(x,null,{default:t(()=>[l(w,{placeholder:"Davlatni tanlang"})]),_:1}),l(B,null,{default:t(()=>[l(p,{value:"o'zbeksiton"},{default:t(()=>e[40]||(e[40]=[n("O'zbekiston")])),_:1}),l(p,{value:"rossiya"},{default:t(()=>e[41]||(e[41]=[n("Rossiya")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),o("div",null,[l(u,null,{default:t(()=>e[42]||(e[42]=[n("Viloyat")])),_:1}),l(r,{modelValue:s(a).city,"onUpdate:modelValue":e[10]||(e[10]=d=>s(a).city=d)},null,8,["modelValue"])])]),o("div",Oe,[o("div",null,[l(u,null,{default:t(()=>e[43]||(e[43]=[n("Tuman")])),_:1}),l(r,{modelValue:s(a).town,"onUpdate:modelValue":e[11]||(e[11]=d=>s(a).town=d)},null,8,["modelValue"])]),o("div",null,[l(u,null,{default:t(()=>e[44]||(e[44]=[n("Manzil")])),_:1}),l(r,{modelValue:s(a).address,"onUpdate:modelValue":e[12]||(e[12]=d=>s(a).address=d)},null,8,["modelValue"])])])]),_:1})]),_:1})])}}});export{dl as default};
