import{_ as T,a as w}from"./BNGOV1T2.js";import{_ as P}from"./Cq9Wa7h3.js";import{e as V,aK as j,G as C,r as i,f as N,o as v,c as y,a as I,u as o,b as c,d as m,t as O,a0 as $,w as h,i as B,n as F}from"./DY5YPz6z.js";import{u as J}from"./CNrGq2Rz.js";import{a as f}from"./DLL7LeIM.js";import{c as M}from"./CBgy_JFS.js";import"./BidR5HMv.js";import"./CoYbDtYK.js";/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=M("FileWarningIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),L={class:"h-screen w-full flex items-center justify-center"},W={class:"grid gap-5 p-5 w-96"},A={key:0,class:"border border-red-500 p-1 rounded-lg bg-red-500/10 flex items-center gap-3 text-lg font-bold text-red-500"},Y=V({__name:"index",setup(H){J({title:"Joylashuv"});const{toast:g}=j(),n=C(),l=i(0),r=i(0),u=i(!1),a=i(""),s=i(""),p=i(!1),_=async t=>{p.value=!0,l.value=t.coords.longitude,r.value=t.coords.latitude;let e=await $fetch(f("location"),{method:"POST",body:JSON.stringify({longitude:l.value,latitude:r.value}),headers:{"Content-Type":"application/json"}});console.log(e),e.code==="200"?(u.value=!0,g({title:"Ajoyib",description:"Siz institut hududidasiz. Davom etishingiz mumkin."})):a.value="Siz institut hududida emassiz. Iltimos institut hududiga kelib qaytadan urinib ko'ring",p.value=!1},b=t=>{a.value="Sizning joylashuvingizni ololmadik. Iltimos, qaytadan urinib ko'ring"},k=async(t,e)=>{l.value=t,r.value=e;let d=await $fetch(f("location"),{method:"POST",body:JSON.stringify({longitude:l.value,latitude:r.value}),headers:{"Content-Type":"application/json"}});console.log(d),d.code==="200"?(u.value=!0,g({title:"Ajoyib",description:"Siz institut hududidasiz. Davom etishingiz mumkin."})):a.value="Siz institut hududida emassiz. Iltimos institut hududiga kelib qaytadan urinib ko'ring",p.value=!1},z=async()=>{let t=await $fetch(f("passport"),{method:"POST",body:JSON.stringify({passport:s.value}),headers:{"Content-Type":"application/json"}});t.status==="success"&&t.code==="200"&&t.data?F({name:"faceid",query:{passport:s.value}}):a.value="Passport raqami noto'g'ri kiritildi."};return N(()=>{if(n.query.longitude&&n.query.latitude){let t=parseFloat(n.query.longitude.toString()),e=parseFloat(n.query.latitude.toString());k(t,e)}else navigator.geolocation.getCurrentPosition(_,b)}),(t,e)=>{const d=T,S=w,q=P;return v(),y("div",L,[I("div",W,[o(a)?(v(),y("p",A,[c(o(D),{size:50}),m(" "+O(o(a)),1)])):$("",!0),c(d,null,{default:h(()=>e[1]||(e[1]=[m("Passport raqam")])),_:1}),c(S,{modelValue:o(s),"onUpdate:modelValue":e[0]||(e[0]=x=>B(s)?s.value=x:null),disabled:!o(u),class:"w-full"},null,8,["modelValue","disabled"]),c(q,{onClick:z,disabled:!o(u),class:"w-full"},{default:h(()=>e[2]||(e[2]=[m("Kirish")])),_:1},8,["disabled"])])])}}});export{Y as default};
