import{_ as ct}from"./D9pBdgcG.js";import{_ as pt,a as gt,b as bt,c as $t,d as vt,e as yt}from"./C_W1wP7l.js";import{_ as Bt}from"./Cq9Wa7h3.js";import{_ as ht,a as wt,b as kt,c as St,d as xt,e as Tt,f as Ct}from"./t-GhsHcG.js";import{_ as Dt}from"./k3ls35lS.js";import{_ as zt,a as Vt}from"./BNGOV1T2.js";import{_ as Ot,a as Pt,b as At,c as qt,d as Lt}from"./DB4MGXwF.js";import{a as Ht,b as Nt,c as jt,d as Ft,e as It,_ as Xt}from"./DBiEsTa-.js";import{_ as Mt}from"./CmUdCOyk.js";import{e as b,x as q,o as _,h as y,w as e,k as B,l as L,m as H,u as s,Y as Ut,p as N,b as t,C as Yt,q as Et,s as j,v as z,y as Rt,z as Jt,A as Qt,c as D,B as Kt,D as Gt,X as Wt,E as Zt,r as T,f as te,j as A,d as o,a as c,i as ee,F as ae,g as oe,t as k}from"./DY5YPz6z.js";import{u as se}from"./CNrGq2Rz.js";import{u as ne}from"./DhZM79Uq.js";import{a as C}from"./DLL7LeIM.js";import{L as le,T as ie}from"./Cqz9zljY.js";import{c as de}from"./CBgy_JFS.js";import"./CoYbDtYK.js";import"./BidR5HMv.js";/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=de("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),ue=b({__name:"Sheet",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(r,{emit:n}){const i=q(r,n);return(p,f)=>(_(),y(s(Ut),L(H(s(i))),{default:e(()=>[B(p.$slots,"default")]),_:3},16))}}),me=b({inheritAttrs:!1,__name:"SheetContent",props:{class:{},side:{},forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(r,{emit:n}){const l=r,u=n,i=N(()=>{const{class:f,side:S,...d}=l;return d}),p=q(i,u);return(f,S)=>(_(),y(s(Qt),null,{default:e(()=>[t(s(Yt),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),t(s(Et),j({class:s(z)(s(pe)({side:f.side}),l.class)},{...s(p),...f.$attrs}),{default:e(()=>[B(f.$slots,"default"),t(s(Rt),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary"},{default:e(()=>[t(s(Jt),{class:"w-4 h-4"})]),_:1})]),_:3},16,["class"])]),_:3}))}}),_e=b({__name:"SheetHeader",props:{class:{}},setup(r){const n=r;return(l,u)=>(_(),D("div",{class:Kt(s(z)("flex flex-col gap-y-2 text-center sm:text-left",n.class))},[B(l.$slots,"default")],2))}}),fe=b({__name:"SheetTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const n=r,l=N(()=>{const{class:u,...i}=n;return i});return(u,i)=>(_(),y(s(Gt),j({class:s(z)("text-lg font-semibold text-foreground",n.class)},l.value),{default:e(()=>[B(u.$slots,"default")]),_:3},16,["class"]))}}),ce=b({__name:"SheetTrigger",props:{asChild:{type:Boolean},as:{}},setup(r){const n=r;return(l,u)=>(_(),y(s(Wt),L(H(n)),{default:e(()=>[B(l.$slots,"default")]),_:3},16))}}),pe=Zt("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ge={class:"grid gap-3 p-5 md:p-10"},be={class:"flex items-center justify-between"},$e={class:"w-full border rounded-md overflow-x-auto"},Le=b({__name:"departments",setup(r){se({title:"Bo'limlar"});const{user:n}=ne(),l=T({active:!0,id:"",name:"",employees:0}),u=T([]),i=T(!1),p=async()=>{var d;try{let a=await $fetch(C("employees/departments"),{headers:{Authorization:`Token ${(d=n.value)==null?void 0:d.token}`}});a.status==="success"?u.value=a.data:A({title:"Xatolik",description:"Adminga murojat qiling"})}catch{A({title:"Xatolik",description:"Adminga murojat qiling"})}},f=async d=>{var a;try{let V=await $fetch(C(`employees/departments/department/${d.id}/edit`),{method:"POST",body:JSON.stringify({name:d.name}),headers:{Authorization:`Token ${(a=n.value)==null?void 0:a.token}`}})}catch{}},S=async()=>{var d;try{let a=await $fetch(C("employees/departments/add"),{method:"POST",body:JSON.stringify({name:l.value.name}),headers:{Authorization:`Token ${(d=n.value)==null?void 0:d.token}`}});i.value=!1,p()}catch{}};return te(()=>{p()}),(d,a)=>{const V=ct,F=bt,O=gt,I=$t,X=vt,M=pt,U=yt,g=Bt,Y=ht,E=St,R=Dt,J=kt,h=zt,x=Vt,Q=At,K=Pt,w=Lt,G=qt,W=Ot,Z=Tt,tt=xt,et=wt,at=Ct,$=Nt,ot=Ht,v=It,st=Mt,nt=ce,lt=fe,it=_e,dt=me,rt=ue,ut=Ft,mt=jt,_t=Xt;return _(),D("div",ge,[t(U,null,{default:e(()=>[t(M,null,{default:e(()=>[t(O,null,{default:e(()=>[t(F,null,{default:e(()=>[t(V,{to:{name:"admin"}},{default:e(()=>a[2]||(a[2]=[o("Bosh sahifa")])),_:1})]),_:1})]),_:1}),t(I),t(O,null,{default:e(()=>[t(X,null,{default:e(()=>a[3]||(a[3]=[o(" Bo'limlar ")])),_:1})]),_:1})]),_:1})]),_:1}),c("div",be,[a[16]||(a[16]=c("div",null,null,-1)),c("div",null,[t(at,{open:s(i),"onUpdate:open":a[1]||(a[1]=m=>ee(i)?i.value=m:null)},{default:e(()=>[t(Y,null,{default:e(()=>[t(g,{size:"sm",variant:"ghost"},{default:e(()=>[t(s(le),{size:16}),a[4]||(a[4]=c("span",null,"Qo'shish",-1))]),_:1})]),_:1}),t(et,null,{default:e(()=>[t(J,null,{default:e(()=>[t(E,null,{default:e(()=>a[5]||(a[5]=[o("Bo'lim qo'shish")])),_:1}),t(R,null,{default:e(()=>a[6]||(a[6]=[o("Yangi bo'lim qo'shish")])),_:1})]),_:1}),c("div",null,[t(h,null,{default:e(()=>a[7]||(a[7]=[o("Bo'lim nomi "),c("sup",{class:"text-red-500 font-bold"},"*",-1)])),_:1}),t(x,{modelValue:s(l).name,"onUpdate:modelValue":a[0]||(a[0]=m=>s(l).name=m)},null,8,["modelValue"]),t(h,null,{default:e(()=>a[8]||(a[8]=[o("Bo'lim ikonkasi")])),_:1}),t(x,{value:"lucide:layout-list"}),t(h,null,{default:e(()=>a[9]||(a[9]=[o("Bo'lim tartibi")])),_:1}),t(W,{"default-value":"last"},{default:e(()=>[t(K,null,{default:e(()=>[t(Q,{placeholder:"Tanlang"})]),_:1}),t(G,null,{default:e(()=>[t(w,{value:"last"},{default:e(()=>a[10]||(a[10]=[o("Oxirida")])),_:1}),t(w,{value:"first"},{default:e(()=>a[11]||(a[11]=[o("Boshida")])),_:1}),t(w,{value:"2"},{default:e(()=>a[12]||(a[12]=[o("2")])),_:1}),t(w,{value:"3"},{default:e(()=>a[13]||(a[13]=[o("3")])),_:1})]),_:1})]),_:1})]),t(tt,null,{default:e(()=>[t(Z,null,{default:e(()=>[t(g,{variant:"destructive"},{default:e(()=>a[14]||(a[14]=[o("Yopish")])),_:1})]),_:1}),t(g,{onClick:S},{default:e(()=>a[15]||(a[15]=[o("Qo'shish")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])])]),c("div",$e,[t(_t,{class:"whitespace-nowrap overflow-x-auto"},{default:e(()=>[t(ot,{class:"border-b"},{default:e(()=>[t($,{class:"w-4"},{default:e(()=>a[17]||(a[17]=[o("#")])),_:1}),t($,null,{default:e(()=>a[18]||(a[18]=[o("Bo'lim nomi")])),_:1}),t($,null,{default:e(()=>a[19]||(a[19]=[o("Xodimlar soni")])),_:1}),t($,null,{default:e(()=>a[20]||(a[20]=[o("Tahrirlash")])),_:1}),t($,null,{default:e(()=>a[21]||(a[21]=[o("O'chirish")])),_:1})]),_:1}),t(mt,null,{default:e(()=>[(_(!0),D(ae,null,oe(s(u),(m,ft)=>(_(),y(ut,null,{default:e(()=>[t(v,null,{default:e(()=>[o(k(ft+1),1)]),_:2},1024),t(v,null,{default:e(()=>[o(k(m.name),1)]),_:2},1024),t(v,null,{default:e(()=>[t(st,{variant:"secondary"},{default:e(()=>[o(k(m.employees),1)]),_:2},1024)]),_:2},1024),t(v,{class:"w-10"},{default:e(()=>[t(rt,null,{default:e(()=>[t(nt,null,{default:e(()=>[t(g,{size:"icon",variant:"default"},{default:e(()=>[t(s(re),{size:16})]),_:1})]),_:1}),t(dt,null,{default:e(()=>[t(it,null,{default:e(()=>[t(lt,null,{default:e(()=>[o(k(m.name),1)]),_:2},1024)]),_:2},1024),t(h,null,{default:e(()=>a[22]||(a[22]=[o("Nomi")])),_:1}),t(x,{modelValue:m.name,"onUpdate:modelValue":P=>m.name=P},null,8,["modelValue","onUpdate:modelValue"]),t(g,{onClick:P=>f(m)},{default:e(()=>a[23]||(a[23]=[o("Saqlash")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024),t(v,{class:"w-10"},{default:e(()=>[t(g,{size:"icon",variant:"destructive"},{default:e(()=>[t(s(ie),{size:16})]),_:1})]),_:1})]),_:2},1024))),256))]),_:1})]),_:1})])])}}});export{Le as default};
