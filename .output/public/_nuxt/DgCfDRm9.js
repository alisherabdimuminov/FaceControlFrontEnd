import{_ as W}from"./D9pBdgcG.js";import{_ as X,a as Z,b as ee,c as te,d as le,e as ne}from"./C_W1wP7l.js";import{_ as oe}from"./Cq9Wa7h3.js";import{_ as ae,a as se,b as ue,c as de,d as ie,e as _e,f as re}from"./t-GhsHcG.js";import{_ as me}from"./k3ls35lS.js";import{_ as fe,a as pe}from"./BNGOV1T2.js";import{_ as ce,a as ge,b as ve,c as $e,d as be,e as xe}from"./DBiEsTa-.js";import{e as ye,r as f,f as ke,o as r,c as p,b as e,w as l,d as n,a,u,F as w,g as V,h as N,t as c,i as Te}from"./DY5YPz6z.js";import{u as we}from"./CNrGq2Rz.js";import{u as Ve}from"./DhZM79Uq.js";import{a as B}from"./DLL7LeIM.js";import{L as Be,T as De}from"./Cqz9zljY.js";import{M as Le}from"./DNk78dkr.js";import"./CoYbDtYK.js";import"./BidR5HMv.js";import"./CBgy_JFS.js";const He={class:"grid gap-3 p-5 md:p-10"},Ce={class:"flex items-center justify-between"},ze={class:"flex flex-col gap-2"},Ae={class:"border rounded-md"},he={class:"w-full border rounded-md overflow-x-auto"},Ne={class:"bg-muted/50 border rounded-md p-2 flex items-center gap-2"},Se={class:"flex items-end justify-end flex-col w-full gap-1"},Ue={class:"rounded-sm text-green-500"},Oe={class:"rounded-sm text-sky-500"},tt=ye({__name:"areas",setup(Pe){we({title:"Hududlar"});const{user:$}=Ve(),g=f(!1),D=f([]),b=f([{latitude:"",longitude:""},{latitude:"",longitude:""},{latitude:"",longitude:""},{latitude:"",longitude:""}]),x=f({id:"",name:"",coordinates:b.value}),m=f(!1);ke(()=>{y()});const y=async()=>{var t;m.value=!0;let s=await $fetch(B("employees/areas"),{headers:{Authorization:`Token ${(t=$.value)==null?void 0:t.token}`}});D.value=s.data,m.value=!1},S=async()=>{var s;m.value=!0,await $fetch(B("employees/areas/add"),{method:"POST",body:JSON.stringify({name:x.value.name,coordinates:b.value.map(t=>`${t.latitude}|${t.longitude}`).join(",")}),headers:{Authorization:`Token ${(s=$.value)==null?void 0:s.token}`}}),g.value=!1,y(),m.value=!1},U=async s=>{var t;m.value=!0,console.log(s),await $fetch(B("employees/areas/delete"),{method:"POST",body:JSON.stringify({id:s.id}),headers:{Authorization:`Token ${(t=$.value)==null?void 0:t.token}`}}),y(),m.value=!1};return(s,t)=>{const O=W,P=ee,L=Z,j=te,J=le,F=X,M=ne,v=oe,q=ae,I=de,Q=me,R=ue,H=fe,k=pe,d=ve,C=ge,i=xe,z=be,A=$e,h=ce,Y=_e,E=ie,G=se,K=re;return r(),p("div",He,[e(M,null,{default:l(()=>[e(F,null,{default:l(()=>[e(L,null,{default:l(()=>[e(P,null,{default:l(()=>[e(O,{to:{name:"admin"}},{default:l(()=>t[2]||(t[2]=[n("Bosh sahifa")])),_:1})]),_:1})]),_:1}),e(j),e(L,null,{default:l(()=>[e(J,null,{default:l(()=>t[3]||(t[3]=[n(" Hududlar ")])),_:1})]),_:1})]),_:1})]),_:1}),a("div",Ce,[t[14]||(t[14]=a("div",null,null,-1)),a("div",null,[e(K,{open:u(g),"onUpdate:open":t[1]||(t[1]=o=>Te(g)?g.value=o:null)},{default:l(()=>[e(q,null,{default:l(()=>[e(v,{size:"sm",variant:"ghost"},{default:l(()=>[e(u(Be),{size:16}),t[4]||(t[4]=a("span",null,"Qo'shish",-1))]),_:1})]),_:1}),e(G,null,{default:l(()=>[e(R,null,{default:l(()=>[e(I,null,{default:l(()=>t[5]||(t[5]=[n("Hudud qo'shish")])),_:1}),e(Q,null,{default:l(()=>t[6]||(t[6]=[n("Yangi hudud qo'shish")])),_:1})]),_:1}),a("div",ze,[e(H,null,{default:l(()=>t[7]||(t[7]=[n("Hudud nomi "),a("sup",{class:"text-red-500 font-bold"},"*",-1)])),_:1}),e(k,{modelValue:u(x).name,"onUpdate:modelValue":t[0]||(t[0]=o=>u(x).name=o)},null,8,["modelValue"]),e(H,null,{default:l(()=>t[8]||(t[8]=[n("Joylashuvlar")])),_:1}),a("div",Ae,[e(h,null,{default:l(()=>[e(C,{class:"border-b"},{default:l(()=>[e(d,null,{default:l(()=>t[9]||(t[9]=[n("#")])),_:1}),e(d,null,{default:l(()=>t[10]||(t[10]=[n("Latitude")])),_:1}),e(d,null,{default:l(()=>t[11]||(t[11]=[n("Longitude")])),_:1})]),_:1}),e(A,null,{default:l(()=>[(r(!0),p(w,null,V(u(b),(o,T)=>(r(),N(z,null,{default:l(()=>[e(i,null,{default:l(()=>[n(c(T+1),1)]),_:2},1024),e(i,null,{default:l(()=>[e(k,{modelValue:o.latitude,"onUpdate:modelValue":_=>o.latitude=_},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(i,null,{default:l(()=>[e(k,{modelValue:o.longitude,"onUpdate:modelValue":_=>o.longitude=_},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})])]),e(E,null,{default:l(()=>[e(Y,null,{default:l(()=>[e(v,{variant:"destructive"},{default:l(()=>t[12]||(t[12]=[n("Yopish")])),_:1})]),_:1}),e(v,{onClick:S},{default:l(()=>t[13]||(t[13]=[n("Qo'shish")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])])]),a("div",he,[e(h,{class:"whitespace-nowrap overflow-x-auto"},{default:l(()=>[e(C,{class:"border-b"},{default:l(()=>[e(d,{class:"w-4"},{default:l(()=>t[15]||(t[15]=[n("#")])),_:1}),e(d,null,{default:l(()=>t[16]||(t[16]=[n("Hudud nomi")])),_:1}),e(d,null,{default:l(()=>t[17]||(t[17]=[n("Joylashuvlar")])),_:1}),e(d,null,{default:l(()=>t[18]||(t[18]=[n("O'chirish")])),_:1})]),_:1}),e(A,null,{default:l(()=>[(r(!0),p(w,null,V(u(D),(o,T)=>(r(),N(z,null,{default:l(()=>[e(i,null,{default:l(()=>[n(c(T+1),1)]),_:2},1024),e(i,null,{default:l(()=>[n(c(o.name),1)]),_:2},1024),e(i,{class:"min-w-32 grid grid-cols-1 md:grid-cols-2 gap-2"},{default:l(()=>[(r(!0),p(w,null,V(o.coordinates,_=>(r(),p("div",Ne,[e(u(Le)),a("div",Se,[a("p",Ue,c(_.latitude),1),a("p",Oe,c(_.longitude),1)])]))),256))]),_:2},1024),e(i,{class:"text-center"},{default:l(()=>[e(v,{onClick:_=>U(o),size:"icon",variant:"destructive"},{default:l(()=>[e(u(De),{size:16})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})])])}}});export{tt as default};
