import{_ as J}from"./D9pBdgcG.js";import{_ as H,a as O,b as W,c as G,d as K,e as Y}from"./C_W1wP7l.js";import{_ as Z}from"./Cq9Wa7h3.js";import{_ as ee,a as le,b as te,c as ae}from"./tbZmO7Lm.js";import{_ as ne,a as oe}from"./BNGOV1T2.js";import{_ as $,a as de,b as se,c as ie,d as ue}from"./DB4MGXwF.js";import{e as re,r as B,f as me,j as C,o as g,c as L,b as l,w as t,d,a as n,n as pe,u as o,F as q,g as D,h as X,t as j}from"./DY5YPz6z.js";import{u as fe}from"./CNrGq2Rz.js";import{u as _e}from"./DhZM79Uq.js";import{a as I}from"./DLL7LeIM.js";import{R as ge}from"./CfHXzoJp.js";import"./CoYbDtYK.js";import"./BidR5HMv.js";import"./CBgy_JFS.js";function ve(F=8){const v="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let c="";for(var V=0;V<F;V++)c+=v.charAt(Math.floor(Math.random()*v.length));return c}const ce={class:"grid gap-3 p-5 md:p-10"},Ve={class:"flex justify-between"},ye={class:"flex flex-col md:flex-row gap-3"},be={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},ke={class:"relative"},we={class:"absolute flex items-center justify-center w-8 h-8 top-0 right-0"},xe={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},$e={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Be={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Se={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Ee=re({__name:"add",setup(F){fe({title:"Xodim qo'shish"});const{user:v}=_e(),c=B(!1),V=B([]),s=B({address:"",birth_date:"",city:"",country:"",department:{active:!0,id:"",name:"",employees:0},full_name:"",gender:"male",handle:"",image:"",phone:"",position:"",town:"",uuid:"",working_time:""}),M=B(["Andijon","Buxoro","Farg'ona","Jizzax","Namangan","Navoiy","Qashqadaryo","Qoraqalpog'iston Respublikasi","Samarqand","Sirdaryo","Surxondaryo","Toshkent","Toshkent shahri","Xorazm"]),R=B([{name:"O'zbekiston",flag:"ðŸ‡ºðŸ‡¿"},{name:"Rossiya",flag:"ðŸ‡·ðŸ‡º"},{name:"Qozog'iston",flag:"ðŸ‡°ðŸ‡¿"},{name:"Tojikiston",flag:"ðŸ‡¹ðŸ‡¯"}]);me(()=>{N();const i=document.getElementById("image");document.addEventListener("paste",e=>{var m;const u=(m=e.clipboardData)==null?void 0:m.items;if(u){for(const p of u)if(p.type.startsWith("image")){const y=p.getAsFile(),S=new FileReader;S.onload=function(b){b.target&&b.target.result&&(i.src=b.target.result.toString())},y&&S.readAsDataURL(y)}}})});const E=()=>{s.value.handle=ve()},N=async()=>{var i;try{let e=await $fetch(I("employees/departments"),{headers:{Authorization:`Token ${(i=v.value)==null?void 0:i.token}`}});e.status==="success"?V.value=e.data:C({title:"Xatolik",description:"Adminga murojat qiling"})}catch{C({title:"Xatolik",description:"Adminga murojat qiling"})}},Q=async()=>{var m;let i=new FormData,e=document.getElementById("image"),u=s.value;i.append("address",u.address),i.append("birth_date",`${u.birth_date.split(".").at(-1)}-${u.birth_date.split(".").at(1)}-${u.birth_date.split(".").at(0)}`),i.append("city",u.city),i.append("country",u.country),i.append("department",u.department.id),i.append("full_name",u.full_name),i.append("gender",u.gender),i.append("handle",u.handle),i.append("phone",u.phone),i.append("position",u.position),i.append("town",u.town),i.append("working_time",u.working_time),i.append("image",e.src);try{c.value=!0,(await $fetch(I("employees/add"),{method:"POST",body:i,headers:{Authorization:`Token ${(m=v.value)==null?void 0:m.token}`}})).status==="success"?(C({title:"Ajoyib",description:"Xodim qo'shildi"}),pe({name:"admin-employees"})):C({title:"Xatolik",description:"Majburiy madonlarni to'diring"}),c.value=!1}catch{}};return(i,e)=>{const u=J,m=W,p=O,y=G,S=K,b=H,P=Y,h=Z,T=le,U=ee,r=ne,f=oe,k=se,w=de,_=ue,x=ie,z=te,A=ae;return g(),L("div",ce,[l(P,null,{default:t(()=>[l(b,null,{default:t(()=>[l(p,null,{default:t(()=>[l(m,null,{default:t(()=>[l(u,{to:{name:"admin"}},{default:t(()=>e[12]||(e[12]=[d("Bosh sahifa")])),_:1})]),_:1})]),_:1}),l(y),l(p,null,{default:t(()=>[l(m,null,{default:t(()=>[l(u,{to:{name:"admin-employees"}},{default:t(()=>e[13]||(e[13]=[d("Xodimlar")])),_:1})]),_:1})]),_:1}),l(y),l(p,null,{default:t(()=>[l(S,null,{default:t(()=>e[14]||(e[14]=[d(" Xodim qo'shish ")])),_:1})]),_:1})]),_:1})]),_:1}),n("div",Ve,[e[16]||(e[16]=n("div",null,null,-1)),n("div",null,[l(h,{onClick:Q},{default:t(()=>e[15]||(e[15]=[d("Qo'shish")])),_:1})])]),n("div",ye,[l(A,{class:"bg-muted/10 flex-1"},{default:t(()=>[l(U,null,{default:t(()=>[l(T,null,{default:t(()=>e[17]||(e[17]=[d("Ma'lumotlar")])),_:1})]),_:1}),l(z,{class:"space-y-5"},{default:t(()=>[n("div",null,[l(r,null,{default:t(()=>e[18]||(e[18]=[d("Familiya Ism Sharifi "),n("span",{class:"text-red-500"},"*",-1)])),_:1}),l(f,{modelValue:o(s).full_name,"onUpdate:modelValue":e[0]||(e[0]=a=>o(s).full_name=a)},null,8,["modelValue"])]),n("div",be,[n("div",null,[l(r,null,{default:t(()=>e[19]||(e[19]=[d("Jinsi "),n("span",{class:"text-red-500"},"*",-1)])),_:1}),l($,{"default-value":"male",modelValue:o(s).gender,"onUpdate:modelValue":e[1]||(e[1]=a=>o(s).gender=a)},{default:t(()=>[l(w,null,{default:t(()=>[l(k,{placeholder:"Jinsini tanlang"})]),_:1}),l(x,null,{default:t(()=>[l(_,{value:"male"},{default:t(()=>e[20]||(e[20]=[d("Erkak")])),_:1}),l(_,{value:"female"},{default:t(()=>e[21]||(e[21]=[d("Ayol")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),n("div",null,[l(r,null,{default:t(()=>e[22]||(e[22]=[d("Tug'ilgan sanasi "),n("span",{class:"text-red-500"},"*",-1)])),_:1}),l(f,{modelValue:o(s).birth_date,"onUpdate:modelValue":e[2]||(e[2]=a=>o(s).birth_date=a)},null,8,["modelValue"])]),n("div",null,[l(r,null,{default:t(()=>e[23]||(e[23]=[d("ID "),n("span",{class:"text-red-500"},"*",-1)])),_:1}),n("div",ke,[l(f,{modelValue:o(s).handle,"onUpdate:modelValue":e[3]||(e[3]=a=>o(s).handle=a)},null,8,["modelValue"]),n("div",we,[l(o(ge),{onClick:E,size:25,class:"hover:bg-accent rounded p-1"})])])])]),n("div",null,[l(r,null,{default:t(()=>e[24]||(e[24]=[d("Shtat "),n("span",{class:"text-red-500"},"*",-1)])),_:1}),l($,{"default-value":"male",modelValue:o(s).working_time,"onUpdate:modelValue":e[4]||(e[4]=a=>o(s).working_time=a)},{default:t(()=>[l(w,null,{default:t(()=>[l(k,{placeholder:"Shtatni tanlang"})]),_:1}),l(x,null,{default:t(()=>[l(_,{value:"1"},{default:t(()=>e[25]||(e[25]=[d("1 shtat")])),_:1}),l(_,{value:"0.5"},{default:t(()=>e[26]||(e[26]=[d("0.5 shtat")])),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1}),l(A,{class:"bg-muted/10 w-64"},{default:t(()=>[l(U,null,{default:t(()=>[l(T,null,{default:t(()=>e[27]||(e[27]=[d("Rasmi "),n("span",{class:"text-red-500"},"*",-1)])),_:1})]),_:1}),l(z,null,{default:t(()=>e[28]||(e[28]=[n("div",{class:"flex flex-col gap-3"},[n("img",{id:"image",class:"w-56 h-56 rounded",src:"",alt:""})],-1)])),_:1})]),_:1})]),l(A,{class:"bg-muted/10"},{default:t(()=>[l(U,null,{default:t(()=>[l(T,null,{default:t(()=>e[29]||(e[29]=[d("Qo'shimcha ma'lumotlar")])),_:1})]),_:1}),l(z,null,{default:t(()=>[n("div",xe,[n("div",null,[l(r,null,{default:t(()=>e[30]||(e[30]=[d("Bo'lim "),n("span",{class:"text-red-500"},"*",-1)])),_:1}),l($,{modelValue:o(s).department.id,"onUpdate:modelValue":e[5]||(e[5]=a=>o(s).department.id=a)},{default:t(()=>[l(w,null,{default:t(()=>[l(k,{placeholder:"Bo'limni tanlang"})]),_:1}),l(x,null,{default:t(()=>[(g(!0),L(q,null,D(o(V),a=>(g(),X(_,{value:a.id},{default:t(()=>[d(j(a.name),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1},8,["modelValue"])]),n("div",null,[l(r,null,{default:t(()=>e[31]||(e[31]=[d("Lavozimi "),n("span",{class:"text-red-500"},"*",-1)])),_:1}),l(f,{modelValue:o(s).position,"onUpdate:modelValue":e[6]||(e[6]=a=>o(s).position=a)},null,8,["modelValue"])])]),n("div",$e,[n("div",null,[l(r,null,{default:t(()=>e[32]||(e[32]=[d("Telefon raqami")])),_:1}),l(f,{modelValue:o(s).phone,"onUpdate:modelValue":e[7]||(e[7]=a=>o(s).phone=a)},null,8,["modelValue"])])])]),_:1})]),_:1}),l(A,{class:"bg-muted/10"},{default:t(()=>[l(U,null,{default:t(()=>[l(T,null,{default:t(()=>e[33]||(e[33]=[d("Manzili")])),_:1})]),_:1}),l(z,null,{default:t(()=>[n("div",Be,[n("div",null,[l(r,null,{default:t(()=>e[34]||(e[34]=[d("Davlat")])),_:1}),l($,{"default-value":"o'zbekiston",modelValue:o(s).country,"onUpdate:modelValue":e[8]||(e[8]=a=>o(s).country=a)},{default:t(()=>[l(w,null,{default:t(()=>[l(k,{placeholder:"Davlatni tanlang"})]),_:1}),l(x,null,{default:t(()=>[(g(!0),L(q,null,D(o(R),a=>(g(),X(_,{value:a.name},{default:t(()=>[d(j(a.flag)+" "+j(a.name),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1},8,["modelValue"])]),n("div",null,[l(r,null,{default:t(()=>e[35]||(e[35]=[d("Viloyat")])),_:1}),l($,{modelValue:o(s).city,"onUpdate:modelValue":e[9]||(e[9]=a=>o(s).city=a)},{default:t(()=>[l(w,null,{default:t(()=>[l(k,{placeholder:"Viloyatni tanlang"})]),_:1}),l(x,null,{default:t(()=>[(g(!0),L(q,null,D(o(M),a=>(g(),X(_,{value:a},{default:t(()=>[d(j(a),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1},8,["modelValue"])])]),n("div",Se,[n("div",null,[l(r,null,{default:t(()=>e[36]||(e[36]=[d("Tuman")])),_:1}),l(f,{modelValue:o(s).town,"onUpdate:modelValue":e[10]||(e[10]=a=>o(s).town=a)},null,8,["modelValue"])]),n("div",null,[l(r,null,{default:t(()=>e[37]||(e[37]=[d("Manzil")])),_:1}),l(f,{modelValue:o(s).address,"onUpdate:modelValue":e[11]||(e[11]=a=>o(s).address=a)},null,8,["modelValue"])])])]),_:1})]),_:1})])}}});export{Ee as default};
