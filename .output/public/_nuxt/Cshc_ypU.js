import{_ as de}from"./D9pBdgcG.js";import{_ as re,a as ue,b as me,c as _e,d as ce,e as pe}from"./C_W1wP7l.js";import{a as fe,b as ge,c as ve,d as he,_ as ye}from"./DB4MGXwF.js";import{_ as $e}from"./Cq9Wa7h3.js";import{a as ke,b as be,c as we,d as Ce,e as Te,_ as Be}from"./DBiEsTa-.js";import{_ as ze}from"./CmUdCOyk.js";import{e as b,x as Pe,o as c,h as y,w as t,k as P,l as A,m as j,u as n,H as Me,p as Se,I as He,b as e,P as xe,s as De,v as Ie,J as Le,S as Ae,r as $,f as je,j as k,K as Re,c as T,d as o,a as d,F as I,g as L,t as f,i as Ve,n as B,L as qe}from"./DY5YPz6z.js";import{_ as Xe,a as Oe,b as Ee,c as Ne}from"./DppfrgfT.js";import{u as Fe}from"./CNrGq2Rz.js";import{u as Ue}from"./DhZM79Uq.js";import{a as z}from"./DLL7LeIM.js";import{L as Ze,T as Je}from"./Cqz9zljY.js";import{c as R}from"./CBgy_JFS.js";import"./CoYbDtYK.js";/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=R("CogIcon",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=R("UserRoundPenIcon",[["path",{d:"M2 21a8 8 0 0 1 10.821-7.487",key:"1c8h7z"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}]]),We=b({__name:"HoverCard",props:{defaultOpen:{type:Boolean},open:{type:Boolean},openDelay:{},closeDelay:{}},emits:["update:open"],setup(g,{emit:r}){const p=Pe(g,r);return(i,w)=>(c(),y(n(Me),A(j(n(p))),{default:t(()=>[P(i.$slots,"default")]),_:3},16))}}),Ge=b({__name:"HoverCardContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(g){const r=g,u=Se(()=>{const{class:p,...i}=r;return i}),v=He(u);return(p,i)=>(c(),y(n(Le),null,{default:t(()=>[e(n(xe),De(n(v),{class:n(Ie)("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r.class)}),{default:t(()=>[P(p.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Ye=b({__name:"HoverCardTrigger",props:{asChild:{type:Boolean},as:{}},setup(g){const r=g;return(u,v)=>(c(),y(n(Ae),A(j(r)),{default:t(()=>[P(u.$slots,"default")]),_:3},16))}}),et={class:"grid gap-3 p-5 md:p-10"},tt={class:"flex items-center justify-between gap-2"},at={class:"flex-1"},nt={class:"w-full border rounded-md overflow-x-auto"},ot=["src"],st=["src"],$t=b({__name:"index",setup(g){Fe({title:"Xodimlar"});const r=qe(),{user:u}=Ue(),v=$([]),p=$([]),i=$("0"),w=$(!1),V=async()=>{var l;try{let a=await $fetch(z("employees/departments"),{headers:{Authorization:`Token ${(l=u.value)==null?void 0:l.token}`}});a.status==="success"?p.value=a.data:k({title:"Xatolik",description:"Adminga murojat qiling"})}catch{k({title:"Xatolik",description:"Adminga murojat qiling"})}},C=async l=>{var h;w.value=!0;let a=await $fetch(z("employees")+`?department=${l}`,{headers:{Authorization:`Token ${(h=u.value)==null?void 0:h.token}`}});a.status==="success"&&(v.value=a.data),w.value=!1},q=async l=>{var a;try{(await $fetch(z(`employees/employee/${l.uuid}/delete`),{method:"POST",headers:{Authorization:`Token ${(a=u.value)==null?void 0:a.token}`}})).status==="success"?(C(i.value),k({title:"Ajoyib",description:"Xodim o'chirildi"})):k({title:"Xatolik",description:"Adminga murojat qiling"})}catch{}};return je(()=>{C(i.value),V()}),Re(i,()=>{C(i.value)}),(l,a)=>{const h=de,X=me,M=ue,O=_e,E=ce,N=re,F=pe,U=ge,Z=fe,S=he,J=ve,K=ye,H=$e,m=be,Q=ke,_=Te,W=ze,G=Ye,Y=Ge,ee=We,te=Oe,x=Ne,ae=Ee,ne=Xe,oe=Ce,se=we,le=Be;return c(),T("div",et,[e(F,null,{default:t(()=>[e(N,null,{default:t(()=>[e(M,null,{default:t(()=>[e(X,null,{default:t(()=>[e(h,{to:{name:"admin"}},{default:t(()=>a[2]||(a[2]=[o("Bosh sahifa")])),_:1})]),_:1})]),_:1}),e(O),e(M,null,{default:t(()=>[e(E,null,{default:t(()=>a[3]||(a[3]=[o(" Xodimlar ")])),_:1})]),_:1})]),_:1})]),_:1}),d("div",tt,[d("div",at,[e(K,{"default-value":"0",modelValue:n(i),"onUpdate:modelValue":a[0]||(a[0]=s=>Ve(i)?i.value=s:null)},{default:t(()=>[e(Z,null,{default:t(()=>[e(U,{placeholder:"Select department"})]),_:1}),e(J,null,{default:t(()=>[e(S,{value:"0"},{default:t(()=>a[4]||(a[4]=[o("Barcha bo'limlar")])),_:1}),(c(!0),T(I,null,L(n(p),s=>(c(),y(S,{value:s.id},{default:t(()=>[o(f(s.name),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1},8,["modelValue"])]),d("div",null,[e(H,{size:"sm",variant:"ghost",onClick:a[1]||(a[1]=s=>("navigateTo"in l?l.navigateTo:n(B))({name:"admin-employees-add"}))},{default:t(()=>[e(n(Ze),{size:16}),a[5]||(a[5]=d("span",null,"Qo'shish",-1))]),_:1})])]),d("div",nt,[e(le,{class:"whitespace-nowrap overflow-x-auto"},{default:t(()=>[e(Q,{class:"border-b"},{default:t(()=>[e(m,{class:"w-4"},{default:t(()=>a[6]||(a[6]=[o("#")])),_:1}),e(m,null,{default:t(()=>a[7]||(a[7]=[o("Familiya, Ism, Sharifi")])),_:1}),e(m,null,{default:t(()=>a[8]||(a[8]=[o("Bo'limi")])),_:1}),e(m,null,{default:t(()=>a[9]||(a[9]=[o("Lavozimi")])),_:1}),e(m,null,{default:t(()=>a[10]||(a[10]=[o("IDsi")])),_:1}),e(m,null,{default:t(()=>a[11]||(a[11]=[o("Tug'ilgan sanasi")])),_:1}),e(m,null,{default:t(()=>a[12]||(a[12]=[o("Rasmi")])),_:1}),e(m,null,{default:t(()=>a[13]||(a[13]=[o("Harakatlar")])),_:1})]),_:1}),e(se,null,{default:t(()=>[(c(!0),T(I,null,L(n(v),(s,ie)=>(c(),y(oe,null,{default:t(()=>[e(_,null,{default:t(()=>[o(f(ie+1),1)]),_:2},1024),e(_,{onClick:D=>("navigateTo"in l?l.navigateTo:n(B))({name:"admin-employees-uuid",params:{uuid:s.uuid}})},{default:t(()=>[o(f(s.full_name),1)]),_:2},1032,["onClick"]),e(_,null,{default:t(()=>[o(f(s.department.name),1)]),_:2},1024),e(_,null,{default:t(()=>[o(f(s.position),1)]),_:2},1024),e(_,null,{default:t(()=>[e(W,{variant:"secondary"},{default:t(()=>[o(f(s.handle),1)]),_:2},1024)]),_:2},1024),e(_,null,{default:t(()=>[o(f(s.birth_date),1)]),_:2},1024),e(_,null,{default:t(()=>[e(ee,null,{default:t(()=>[e(G,null,{default:t(()=>[d("img",{class:"w-6 h-6 rounded-full",src:`${n(r).public.base}${s.image}`,alt:""},null,8,ot)]),_:2},1024),e(Y,null,{default:t(()=>[d("div",null,[d("img",{class:"w-64 h-64 rounded-md",src:`${n(r).public.base}${s.image}`,alt:""},null,8,st)])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(_,null,{default:t(()=>[e(ne,null,{default:t(()=>[e(te,null,{default:t(()=>[e(H,{size:"icon",variant:"outline"},{default:t(()=>[e(n(Ke),{size:16})]),_:1})]),_:1}),e(ae,{side:"left"},{default:t(()=>[e(x,{onClick:D=>("navigateTo"in l?l.navigateTo:n(B))({name:"admin-employees-uuid",params:{uuid:s.uuid}})},{default:t(()=>[e(n(Qe),{size:16}),a[14]||(a[14]=d("span",null,"Tahrirlash",-1))]),_:2},1032,["onClick"]),e(x,{onClick:D=>q(s)},{default:t(()=>[e(n(Je),{size:16}),a[15]||(a[15]=d("span",null,"O'chirish",-1))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})])])}}});export{$t as default};
