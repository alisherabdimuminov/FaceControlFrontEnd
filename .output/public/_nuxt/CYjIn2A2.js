import{_ as y,a as V}from"./BNGOV1T2.js";import{_ as k}from"./Cq9Wa7h3.js";import{e as w,r,o as x,c as B,a as d,b as t,w as u,d as m,i as _,u as s,n as N,j as p}from"./DY5YPz6z.js";import{u as $}from"./CNrGq2Rz.js";import{u as C}from"./DhZM79Uq.js";import{a as K}from"./DLL7LeIM.js";import"./BidR5HMv.js";import"./CoYbDtYK.js";const P={class:"w-96 grid gap-3"},Q=w({__name:"login",setup(S){$({title:"Kirish"});const{login:v}=C(),n=r(""),i=r(""),e=r(!1),b=async()=>{e.value=!0;try{let o=await $fetch(K("auth/login"),{method:"POST",body:JSON.stringify({username:n.value,password:i.value})});o.status==="success"?(v(o.data),N({name:"admin"})):o.code==="invalid_password"?p({title:"Xatolik",description:"Parol xato. Qaytadan urinib ko'ring"}):o.code==="username_not_found"&&p({title:"Xatolik",description:"Foydalanuvchi nomi topilmadi. Qaytadan urinib ko'ring"})}catch{p({title:"Xatolik",description:"500 - Internal Server Error"})}e.value=!1};return(o,a)=>{const f=y,c=V,g=k;return x(),B("div",P,[a[5]||(a[5]=d("p",{class:"text-center"},"Kirish",-1)),d("div",null,[t(f,null,{default:u(()=>a[2]||(a[2]=[m("Foydalanuvchi nomi")])),_:1}),t(c,{disabled:s(e),modelValue:s(n),"onUpdate:modelValue":a[0]||(a[0]=l=>_(n)?n.value=l:null)},null,8,["disabled","modelValue"])]),d("div",null,[t(f,null,{default:u(()=>a[3]||(a[3]=[m("Parol")])),_:1}),t(c,{type:"password",disabled:s(e),modelValue:s(i),"onUpdate:modelValue":a[1]||(a[1]=l=>_(i)?i.value=l:null)},null,8,["disabled","modelValue"])]),t(g,{disabled:s(e),onClick:b},{default:u(()=>a[4]||(a[4]=[m("Kirish")])),_:1},8,["disabled"])])}}});export{Q as default};
