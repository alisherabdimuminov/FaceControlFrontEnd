import{M as x,r as M,K as S,Z as J,p as O,f as $}from"./DY5YPz6z.js";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const E=e=>typeof e<"u";function T(){const e=M(!1),o=x();return o&&$(()=>{e.value=!0},o),e}function F(e){return JSON.parse(JSON.stringify(e))}function W(e,o,N,V={}){var r,f,c;const{clone:u=!1,passive:_=!1,eventName:h,deep:d=!1,defaultValue:y,shouldEmit:m}=V,t=x(),p=N||(t==null?void 0:t.emit)||((r=t==null?void 0:t.$emit)==null?void 0:r.bind(t))||((c=(f=t==null?void 0:t.proxy)==null?void 0:f.$emit)==null?void 0:c.bind(t==null?void 0:t.proxy));let i=h;i=i||`update:${o.toString()}`;const g=n=>u?typeof u=="function"?u(n):F(n):n,v=()=>E(e[o])?g(e[o]):y,b=n=>{m?m(n)&&p(i,n):p(i,n)};if(_){const n=v(),a=M(n);let s=!1;return S(()=>e[o],l=>{s||(s=!0,a.value=g(l),J(()=>s=!1))}),S(a,l=>{!s&&(l!==e[o]||d)&&b(l)},{deep:d}),a}else return O({get(){return v()},set(n){b(n)}})}export{W as a,T as u};
